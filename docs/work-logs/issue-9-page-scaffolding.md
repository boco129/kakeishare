# Issue #9 — App Router ページ雛形作成（4画面）

## 対応日
2026-02-24

## ブランチ
`feature/issue-9-page-scaffolding` → `develop`

## 作成・変更ファイル一覧

### 新規作成
| ファイル | 内容 |
|---------|------|
| `src/lib/auth-utils.ts` | `getDisplayName()` ヘルパー関数 |

### 変更
| ファイル | 変更内容 |
|---------|---------|
| `src/app/(app)/page.tsx` | タイトル「ホーム」→「ダッシュボード」、getDisplayName使用、プレースホルダー文言統一 |
| `src/app/(app)/expenses/page.tsx` | auth()セッション取得追加、タイトル「支出一覧」、ユーザー名表示追加 |
| `src/app/(app)/review/page.tsx` | auth()セッション取得追加、タイトル「家計レビュー」、ユーザー名表示追加 |
| `src/app/(app)/settings/page.tsx` | null安全なオプショナルチェーン（`?.`）に統一、フォールバック値追加 |

## 実装詳細

### 各ページの修正

| ページ | タイトル | セッション | ユーザー名表示 |
|--------|---------|-----------|--------------|
| `/` (ダッシュボード) | ダッシュボード | あり | ようこそ、◯◯さん |
| `/expenses` (支出一覧) | 支出一覧 | あり（追加） | ◯◯さんの支出 |
| `/review` (家計レビュー) | 家計レビュー | あり（追加） | ◯◯さんの家計レビュー |
| `/settings` (設定) | 設定 | あり（既存） | アカウント情報カード |

### getDisplayName() ヘルパー
- `src/lib/auth-utils.ts` に新設
- フォールバック順: `name` → `email` → `"ゲスト"`
- `Session | null` 型を受け取り `string` を返す

### ナビゲーションラベルとの関係
- タブバー/サイドバーのラベルは短縮形（ホーム/支出/レビュー/設定）を維持
- ページタイトル（h1）は正式名称（ダッシュボード/支出一覧/家計レビュー/設定）
- UX的に一般的なパターンであり問題なし

## レビュー指摘と対応

Codex（GPT-5.3）によるレビューを2回実施。

### 1回目レビュー指摘（非ブロッカー3点）
| 指摘 | 対応 |
|------|------|
| プレースホルダー文言の不統一 | 全ページ「◯◯は今後実装予定です」形式に統一 |
| ユーザー名フォールバック処理の重複 | `getDisplayName()` ヘルパーを新設し共通化 |
| settings/page.tsx のnull安全性 | `session?.user?.name ?? "未設定"` 形式に統一 |

### 2回目レビュー → LGTM（承認）

## 将来の課題
- `getDisplayName()` のフォールバック文言を定数化（多言語化対応時）
- 各ページのプレースホルダーをPhase 2以降で実コンテンツに差し替え
